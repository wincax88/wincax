{"version":3,"sources":["redux/app.js","redux/reducers.js","redux/store.js","components/camera/camera.jsx","components/grid/grid.jsx","components/crop-image/crop-image.jsx","components/recognize/recognize-text-rect.jsx","lib/countly.js","lib/axios.js","components/recognize/recognize.jsx","lib/api.js","components/start-page/start-page.jsx","views/app.jsx","index.js"],"names":["defaultState","userId","userName","isMaster","appRole","isLogon","imageUrl","isShowStartPage","isShowCamera","isShowCropImage","isShowRecognizeResult","croppedImageUrl","blocks","setImageUrl","dataUrl","type","payload","showCropImage","showRecognizeResult","showCamera","setCroppedImageUrl","setBlocks","appReducer","combineReducers","app","state","action","length","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","console","info","getState","persistor","persistStore","CameraPage","props","root","document","getElementById","width","clientWidth","height","clientHeight","handleTakePhoto","bind","handleResize","addEventListener","this","removeEventListener","container","setState","dataUri","className","id","isFullscreen","isImageMirror","idealFacingMode","FACING_MODES","ENVIRONMENT","imageType","IMAGE_TYPES","JPG","isMaxResolution","isDisplayStartCameraError","sizeFactor","onTakePhoto","onCameraError","err","error","Component","connect","dispatch","bindActionCreators","Grid","CropImage","onImageLoaded","image","imageRef","onCropChange","crop","onCropComplete","getCroppedImg","then","log","unit","x","y","onCamera","onRecognize","fileName","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","Promise","resolve","toBlob","blob","name","URL","revokeObjectURL","fileUrl","createObjectURL","src","keepSelection","minWidth","minHeight","crossorigin","onChange","newCrop","onComplete","shape","icon","onClick","TextRect","top","left","score","red","parseInt","style","background","app_key","querystring","require","post","url","params","config","reject","axios","stringify","response","data","status","success","code","msg","message","Countly","app_version","version","debug","init","q","push","defaults","timeout","headers","common","interceptors","use","includes","alert","location","href","value","retry","__retryCount","segmentation","setTimeout","retryDelay","indexOf","RecognizeResult","prevProps","doRecognize","fetch","res","reader","FileReader","readAsDataURL","onloadend","imageData","ts","Date","getTime","host","timestamp","recognize","result","replace","catch","warn","JSON","map","item","index","text","textRect","pos","alt","StartPage","onStart","App","renderApp","locale","zhCN","loading","ReactDOM","render"],"mappings":"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","file":"static/js/main.55ad3ed8.chunk.js","sourcesContent":["// APP主体状态\nexport const SET_APP_USER = 'app/SET_APP_USER'\nexport const SET_IMAGE_URL = 'app/SET_IMAGE_URL'\nexport const SHOW_CROP_IMAGE = 'app/SHOW_CROP_IMAGE'\nexport const HIDE_CROP_IMAGE = 'app/HIDE_CROP_IMAGE'\nexport const SHOW_RECOGNIZE_RESULT = 'app/SHOW_RECOGNIZE_RESULT'\nexport const HIDE_RECOGNIZE_RESULT = 'app/HIDE_RECOGNIZE_RESULT'\nexport const SHOW_CAMERA = 'app/SHOW_CAMERA'\nexport const HIDE_CAMERA = 'app/HIDE_CAMERA'\nexport const SET_CROPPED_IMAGE_URL = 'app/SET_CROPPED_IMAGE_URL'\nexport const SET_BLOCKS = 'app/SET_BLOCKS'\n\nconst defaultState = {\n  userId: '',\n  userName: '',\n  isMaster: false,\n  appRole: '',\n  isLogon: false,\n  imageUrl:\n    'https://iknow-pic.cdn.bcebos.com/b219ebc4b74543a92875861b15178a82b80114fe',\n  isShowStartPage: false,\n  isShowCamera: false,\n  isShowCropImage: true,\n  isShowRecognizeResult: false,\n  croppedImageUrl: '',\n  blocks: [],\n}\n\nexport default (state = defaultState, action = {}) => {\n  const { payload } = action\n  switch (action.type) {\n    case SET_BLOCKS: {\n      return {\n        ...state,\n        blocks: payload,\n      }\n    }\n    case SET_CROPPED_IMAGE_URL: {\n      return {\n        ...state,\n        croppedImageUrl: payload,\n      }\n    }\n    case SHOW_CAMERA: {\n      return {\n        ...state,\n        isShowCamera: true,\n        isShowStartPage: false,\n        isShowCropImage: false,\n        isShowRecognizeResult: false,\n      }\n    }\n    case HIDE_CAMERA: {\n      return {\n        ...state,\n        isShowCamera: false,\n      }\n    }\n    case SHOW_RECOGNIZE_RESULT: {\n      return {\n        ...state,\n        isShowRecognizeResult: true,\n        isShowCropImage: false,\n        isShowCamera: false,\n        isShowStartPage: false,\n      }\n    }\n    case HIDE_RECOGNIZE_RESULT: {\n      return {\n        ...state,\n        isShowRecognizeResult: false,\n      }\n    }\n    case SHOW_CROP_IMAGE: {\n      return {\n        ...state,\n        isShowCropImage: true,\n        isShowCamera: false,\n        isShowRecognizeResult: false,\n        isShowStartPage: false,\n      }\n    }\n    case HIDE_CROP_IMAGE: {\n      return {\n        ...state,\n        isShowCropImage: false,\n      }\n    }\n    case SET_IMAGE_URL: {\n      return {\n        ...state,\n        imageUrl: payload,\n      }\n    }\n    case SET_APP_USER:\n      const { appRole, userId, userName } = payload\n      return {\n        ...state,\n        isMaster: appRole === 'teacher',\n        appRole,\n        userId,\n        userName,\n        isLogon: !userId || userId.length <= 0 ? false : true,\n      }\n    default:\n      return state\n  }\n}\n\nexport const setAppUser = (appRole, userId, userName) => ({\n  type: SET_APP_USER,\n  payload: { appRole, userId, userName },\n})\nexport const setImageUrl = dataUrl => ({\n  type: SET_IMAGE_URL,\n  payload: dataUrl,\n})\nexport const showCropImage = () => ({\n  type: SHOW_CROP_IMAGE,\n})\nexport const hideCropImage = () => ({\n  type: HIDE_CROP_IMAGE,\n})\nexport const showRecognizeResult = () => ({\n  type: SHOW_RECOGNIZE_RESULT,\n})\nexport const hideRecognizeResult = () => ({\n  type: HIDE_RECOGNIZE_RESULT,\n})\nexport const showCamera = () => ({\n  type: SHOW_CAMERA,\n})\nexport const hideCamera = () => ({\n  type: HIDE_CAMERA,\n})\nexport const setCroppedImageUrl = dataUrl => ({\n  type: SET_CROPPED_IMAGE_URL,\n  payload: dataUrl,\n})\nexport const setBlocks = blocks => ({\n  type: SET_BLOCKS,\n  payload: blocks,\n})\n","import { combineReducers } from 'redux'\nimport app from './app'\n\nconst appReducer = combineReducers({\n  app,\n})\n\nexport default (state, action) => {\n  return appReducer(state, action)\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\n\nimport RootReducer from './reducers'\n\nconst persistConfig = {\n  key: 'exp-date-root',\n  storage,\n  whitelist: ['courseware', 'tabs'],\n}\n\nconst persistedReducer = persistReducer(persistConfig, RootReducer)\n\n// 启用Redux开发者工具\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(\n  persistedReducer,\n  composeEnhancers(applyMiddleware(thunk))\n)\n\nif (process.env.NODE_ENV !== 'production' && module.hot) {\n  module.hot.accept('./reducers', () => store.replaceReducer(RootReducer))\n}\n\nconsole.info('Store created:', store.getState())\nconst persistor = persistStore(store)\n// export default store\nexport { store, persistor }\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Camera, { FACING_MODES, IMAGE_TYPES } from 'react-html5-camera-photo'\nimport 'react-html5-camera-photo/build/css/index.css'\nimport { setImageUrl, showCropImage } from '../../redux/app.js'\n\nimport './camera.scss'\n\nclass CameraPage extends Component {\n  constructor(props) {\n    super(props)\n\n    const root = document.getElementById('root')\n    this.state = {\n      width: root.clientWidth,\n      height: root.clientHeight,\n    }\n\n    this.handleTakePhoto = this.handleTakePhoto.bind(this)\n    this.handleResize = this.handleResize.bind(this)\n  }\n  componentDidMount() {\n    window.addEventListener('resize', this.handleResize)\n    this.handleResize()\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize)\n  }\n  handleResize() {\n    const container = document.getElementById('camera-container')\n    if (container) {\n      this.setState({\n        width: container.clientWidth,\n        height: container.clientHeight,\n      })\n    }\n  }\n\n  handleTakePhoto(dataUri) {\n    const { setImageUrl, showCropImage } = this.props\n    // Do stuff with the photo...\n    // console.log('takePhoto', dataUri)\n    setImageUrl(dataUri)\n    showCropImage()\n  }\n  render() {\n    const { isShowCamera } = this.props\n    return isShowCamera ? (\n      <div className=\"camera-container\" id=\"camera-container\">\n        <Camera\n          isFullscreen={true}\n          isImageMirror={false}\n          idealFacingMode={FACING_MODES.ENVIRONMENT}\n          imageType={IMAGE_TYPES.JPG}\n          isMaxResolution={true}\n          isDisplayStartCameraError={true}\n          sizeFactor={1}\n          onTakePhoto={dataUri => {\n            this.handleTakePhoto(dataUri)\n          }}\n          onCameraError={err => {\n            console.error(err)\n          }}\n        />\n      </div>\n    ) : null\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isShowCamera: state.app.isShowCamera,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ setImageUrl, showCropImage }, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CameraPage)\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport './grid.scss'\n\nclass Grid extends Component {\n  render() {\n    const { isShowCamera } = this.props\n    return isShowCamera ? (\n      <div className=\"grid-container\">\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n        <div className=\"grid\"></div>\n      </div>\n    ) : null\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { isShowCamera: state.app.isShowCamera }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Grid)\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport ReactCrop from 'react-image-crop'\nimport 'react-image-crop/lib/ReactCrop.scss'\nimport { Button } from 'antd'\n// import { filter, keyBy } from 'lodash-es'\n// import { setCurNum, hideAssetView } from '../../redux/asset'\n// import Preview from './preview'\n// import { getFileData } from '../../lib/api'\nimport {\n  showCamera,\n  setCroppedImageUrl,\n  showRecognizeResult,\n} from '../../redux/app.js'\n\nimport './crop-image.scss'\n\nclass CropImage extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      crop: {\n        unit: '%',\n        x: 10,\n        y: 30,\n        width: 80,\n        height: 30,\n      },\n      croppedImageUrl: null,\n    }\n\n    this.imageRef = null\n\n    this.onCropChange = this.onCropChange.bind(this)\n    this.onCropComplete = this.onCropComplete.bind(this)\n    this.getCroppedImg = this.getCroppedImg.bind(this)\n    this.onCamera = this.onCamera.bind(this)\n    this.onRecognize = this.onRecognize.bind(this)\n    this.onImageLoaded = this.onImageLoaded.bind(this)\n  }\n  componentDidMount() {}\n\n  onImageLoaded = image => {\n    this.imageRef = image\n  }\n\n  onCropChange = crop => {\n    this.setState({ crop })\n  }\n\n  onCropComplete = crop => {\n    if (this.imageRef && crop.width && crop.height) {\n      this.getCroppedImg(this.imageRef, crop, 'newFile.jpeg').then(\n        croppedImageUrl => {\n          this.setState({ croppedImageUrl })\n          console.log('croppedImageUrl', croppedImageUrl)\n        }\n      )\n    }\n  }\n\n  getCroppedImg(image, crop, fileName) {\n    const canvas = document.createElement('canvas')\n    const scaleX = image.naturalWidth / image.width\n    const scaleY = image.naturalHeight / image.height\n    canvas.width = crop.width\n    canvas.height = crop.height\n    const ctx = canvas.getContext('2d')\n\n    ctx.drawImage(\n      image,\n      crop.x * scaleX,\n      crop.y * scaleY,\n      crop.width * scaleX,\n      crop.height * scaleY,\n      0,\n      0,\n      crop.width,\n      crop.height\n    )\n\n    return new Promise(resolve => {\n      canvas.toBlob(blob => {\n        blob.name = fileName // eslint-disable-line no-param-reassign\n        window.URL.revokeObjectURL(this.fileUrl)\n        this.fileUrl = window.URL.createObjectURL(blob)\n        resolve(this.fileUrl)\n      }, 'image/jpeg')\n    })\n  }\n  onCamera() {\n    const { showCamera } = this.props\n    showCamera()\n  }\n  onRecognize() {\n    const { setCroppedImageUrl, showRecognizeResult } = this.props\n    setCroppedImageUrl(this.state.croppedImageUrl)\n    showRecognizeResult()\n  }\n\n  render() {\n    const { isShowCropImage, imageUrl } = this.props\n    return isShowCropImage ? (\n      <div className=\"crop-image-container\">\n        <ReactCrop\n          src={imageUrl}\n          crop={this.state.crop}\n          keepSelection={true}\n          minWidth={20}\n          minHeight={20}\n          crossorigin=\"anonymous\"\n          onImageLoaded={this.onImageLoaded}\n          onChange={newCrop => this.onCropChange(newCrop)}\n          onComplete={this.onCropComplete}\n        />\n        <div className=\"button-wrap\">\n          <Button\n            shape=\"circle\"\n            icon=\"camera\"\n            className=\"camera-button\"\n            onClick={this.onCamera}\n          />\n          <Button\n            type=\"primary\"\n            shape=\"circle\"\n            icon=\"check\"\n            className=\"process-button\"\n            onClick={this.onRecognize}\n          />\n        </div>\n      </div>\n    ) : null\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isShowCropImage: state.app.isShowCropImage,\n    imageUrl: state.app.imageUrl,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    { showCamera, setCroppedImageUrl, showRecognizeResult },\n    dispatch\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CropImage)\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n// import { Button, Modal, message } from 'antd'\n// import { filter, keyBy } from 'lodash-es'\n// import { setCurNum, hideAssetView } from '../../redux/asset'\n// import Preview from './preview'\n// import { getFileData } from '../../lib/api'\n\nimport './recognize.scss'\n\nclass TextRect extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n  componentDidMount() {}\n\n  render() {\n    const { top, left, height, width, score } = this.props\n\n    const red = parseInt(255 * score)\n    const style = {\n      top: top + 10 + 'px',\n      left: left + 10 + 'px',\n      height: height + 'px',\n      width: width + 'px',\n      background: `rgba(${red}, 0, 0, 0.33)`,\n    }\n    return <div className=\"text-rect-container\" style={style}></div>\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {}\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextRect)\n","import querystring from 'querystring'\nimport Countly from 'countly-sdk-web'\nimport { version } from '../../package.json'\n\n// 启用网页分析Countly\nconst initCountly = app_key => {\n  Countly.app_key = app_key\n  Countly.url = 'https://asia-try.count.ly'\n  Countly.app_version = version\n  Countly.debug = false\n  Countly.init()\n  Countly.q.push(['track_sessions'])\n  Countly.q.push(['track_errors'])\n}\n\n// 捕捉自定义事件\nconst catchEvent = (key, value) => {\n  // console.log('Countly: catchEvent', key, value)\n  Countly.q.push([\n    'add_event',\n    {\n      key: key,\n      segmentation: {\n        value: querystring.stringify(value),\n      },\n    },\n  ])\n}\nexport { initCountly, catchEvent }\n","import axios from 'axios'\nimport { initCountly, catchEvent } from './countly'\n// import fetch from 'unfetch'\nconst request = require('request')\n\nconst querystring = require('querystring')\n\n// 初始化Countly\ninitCountly()\n\naxios.defaults.timeout = 30000\naxios.defaults.headers.common['retry'] = 3\naxios.defaults.headers.common['retryDelay'] = 1000\n\n// axios.interceptors.request.use(\n//   config => {\n//     // // // console.log('axios.request', config)\n//     return config\n//   },\n//   err => {\n//     // console.error('axios.request', err)\n//     catchEvent('http_error', err.message)\n//     return Promise.reject(err)\n//   }\n// )\n\naxios.interceptors.response.use(\n  response => {\n    if (\n      response &&\n      response.data &&\n      (response.data.status === 0 || response.data.state === -1) &&\n      response.data.msg &&\n      response.data.msg.includes('未登')\n    ) {\n      // console.log('axios.response', response)\n      alert('还未登录!')\n      window.location.href = '/user'\n      return Promise.reject('还未登录!')\n    }\n\n    return response\n  },\n  err => {\n    const config = err.config\n    let { headers } = config\n\n    if (!config || !headers.retry) return Promise.reject(err)\n\n    headers.__retryCount = headers.__retryCount || 0\n\n    if (headers.__retryCount >= headers.retry) {\n      if (err.message.includes('timeout')) {\n        // alert('网络请求超时')\n      } else if (err.message.includes('Network Error')) {\n        // alert('网络异常，请检查网络')\n      } else {\n        // alert(err.message)\n      }\n      catchEvent('http_error', err.message)\n      return Promise.reject(err)\n    }\n\n    headers.__retryCount += 1\n    return new Promise(resolve => {\n      setTimeout(resolve, headers.retryDelay || 1)\n    }).then(() => axios(config))\n  }\n)\n\nexport function get(url, params, config) {\n  return new Promise((resolve, reject) => {\n    axios.get(url, params, config).then(\n      response => {\n        resolve(response)\n      },\n      err => {\n        reject(err)\n      }\n    )\n  })\n}\n\nexport function post(url, params, config) {\n  return new Promise((resolve, reject) => {\n    axios.post(url, querystring.stringify(params), config).then(\n      response => {\n        const data = response.data\n        if (\n          data.status === 200 ||\n          data.status === '200' ||\n          data.state === 200 ||\n          data.state === '200' ||\n          data.status === 1 ||\n          data.status === '1' ||\n          data.success === 1 ||\n          data.code === 200 ||\n          response.status === 200\n        ) {\n          return resolve(data)\n        } else {\n          console.error('post : ', url, response)\n          return reject(data.msg || data.message || '未知错误')\n        }\n      },\n      err => {\n        console.error('post : ', url, err)\n        if (err) return reject(err.msg || err.message || '未知错误')\n      }\n    )\n  })\n}\nexport function fetchEx(url, params, config) {\n  console.log('config', config)\n  return new Promise((resolve, reject) => {\n    request\n      .post({\n        url: url,\n        headers: config,\n        form: querystring.stringify(params),\n      })\n      // axios\n      //   .request({\n      //     url: url,\n      //     method: 'post',\n      //     data: querystring.stringify(params),\n      //     headers: config,\n      //     withCredentials: false,\n      //   })\n      .on(\n        'response',\n        function(response) {\n          // .then(\n          // response => {\n          const data = response.data\n          if (\n            data.status === 200 ||\n            data.status === '200' ||\n            data.state === 200 ||\n            data.state === '200' ||\n            data.status === 1 ||\n            data.status === '1' ||\n            data.success === 1 ||\n            data.code === 200 ||\n            response.status === 200\n          ) {\n            return resolve(data)\n          } else {\n            console.error('post : ', url, response)\n            return reject(data.msg || data.message || '未知错误')\n          }\n        },\n        err => {\n          console.error('post : ', url, err)\n          if (err) return reject(err.msg || err.message || '未知错误')\n        }\n      )\n      .on('error', function(err) {\n        console.error('post : ', url, err)\n        if (err) return reject(err.msg || err.message || '未知错误')\n      })\n  })\n}\n\nexport let devHost =\n  window.location.href.indexOf('localhost') >= 0 ? 'http://wwww.wincax.com' : ''\nexport default axios\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { message } from 'antd'\n// import { filter, keyBy } from 'lodash-es'\n// import { setCurNum, hideAssetView } from '../../redux/asset'\nimport TextRect from './recognize-text-rect'\nimport { recognize } from '../../lib/api'\nimport { setBlocks } from '../../redux/app'\n\nimport './recognize.scss'\n\nclass RecognizeResult extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n  componentDidMount() {}\n  componentDidUpdate(prevProps) {\n    const { isShowRecognizeResult } = this.props\n    if (isShowRecognizeResult && !prevProps.isShowRecognizeResult) {\n      this.doRecognize()\n    }\n  }\n  doRecognize() {\n    const { croppedImageUrl, setBlocks } = this.props\n    fetch(croppedImageUrl)\n      .then(res => res.blob())\n      .then(blob => {\n        var reader = new FileReader()\n        reader.readAsDataURL(blob)\n        reader.onloadend = function() {\n          // var base64data = reader.result.toString('base64')\n          var base64data = reader.result.replace('data:image/jpeg;base64,', '')\n          // var base64data = reader.result\n          recognize(base64data)\n            .then(res => {\n              if (res.data && res.data.document && res.data.document.blocks) {\n                console.log(res.data.document.blocks)\n                setBlocks(res.data.document.blocks)\n              } else {\n                setBlocks([])\n              }\n            })\n            .catch(err => {\n              console.error(err)\n              message.warn(JSON.stringify(err))\n            })\n        }\n      })\n  }\n\n  render() {\n    const { isShowRecognizeResult, croppedImageUrl, blocks } = this.props\n    const result = blocks.map((item, index) => {\n      console.log(item['lines'][0]['characters'])\n      let text = item['lines'][0].text\n      return <div key={index}>{text}</div>\n    })\n    const textRect = blocks.map((item, index) => {\n      console.log(item['lines'][0]['position'])\n      const score = item['lines'][0].score\n      const pos = item['lines'][0]['position']['bounding_box']\n      return (\n        <TextRect\n          key={index}\n          height={pos.height}\n          width={pos.width}\n          top={pos.top}\n          left={pos.left}\n          score={score}\n        />\n      )\n    })\n\n    return isShowRecognizeResult ? (\n      <div className=\"recognize-container\">\n        <div>\n          <img src={croppedImageUrl} alt=\"\" />\n          <div className=\"text-rect-wrap\">{textRect}</div>\n        </div>\n\n        <div className=\"result-wrap\">{result}</div>\n      </div>\n    ) : null\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isShowRecognizeResult: state.app.isShowRecognizeResult,\n    croppedImageUrl: state.app.croppedImageUrl,\n    blocks: state.app.blocks,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ setBlocks }, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RecognizeResult)\n","import { post, get /*, fetchEx*/ } from './axios'\n// const CryptoJS = require('crypto-js')\n// const reqwest = require('reqwest')\n// const xhr = require('xhr')\n// const querystring = require('querystring')\nimport { host } from '../config.json'\n\nconst editWebideCode = (filePath, userId, id) => {\n  return post('/idecompiler/webideCode/editWebideCode', {\n    filePath: filePath,\n    userId: userId,\n    id: id,\n  })\n}\nconst getFileData = filePath => {\n  return get(filePath, {}, {})\n}\n\n// 系统配置\n// const config = {\n//   // 印刷文字多语种 webapi接口地址\n//   hostUrl: 'https://webapi.xfyun.cn/v1/service/v1/ocr/recognize_document',\n//   host: 'webapi.xfyun.cn',\n//   //在控制台-我的应用-印刷文字识别多语种获取\n//   appid: '5f0c296c',\n//   // 接口密钥(webapi类型应用开通印刷文字识别多语种服务后，控制台--我的应用---印刷文字识别多语种---服务的apikey)\n//   apiKey: '31cb1e5568b3a0fc644b775322f574bb',\n//   uri: '/v1/recognize_document',\n//   // 本地上传图片\n//   file: './ocr.jpeg',\n// }\n\n// // 获取当前时间戳\n// let ts = parseInt(new Date().getTime() / 1000)\n//\n// // 组装业务参数\n// function getXParamStr() {\n//   let xParam = {\n//     engine_type: 'recognize_document',\n//   }\n//   return CryptoJS.enc.Base64.stringify(\n//     CryptoJS.enc.Utf8.parse(JSON.stringify(xParam))\n//   )\n// }\n\n// 组装请求头\n// function getReqHeader() {\n//   let xParamStr = getXParamStr()\n//   let xCheckSum = CryptoJS.MD5(config.apiKey + ts + xParamStr).toString()\n//   return {\n//     // 'Access-Control-Allow-Origin': '*',\n//     'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n//     'X-Appid': config.appid,\n//     'X-CurTime': ts + '',\n//     'X-Param': xParamStr,\n//     'X-CheckSum': xCheckSum,\n//   }\n// }\n\nconst recognize = imageData => {\n  // const options = {\n  //   headers: getReqHeader(),\n  // }\n  // return fetchEx(config.hostUrl, { image: imageData }, options.headers)\n  const ts = parseInt(new Date().getTime() / 1000)\n  return post(`${host}/recognize`, {\n    timestamp: ts,\n    image: imageData,\n  })\n}\n\nexport { editWebideCode, getFileData, recognize }\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Button } from 'antd'\n// import { filter, keyBy } from 'lodash-es'\n// import { setCurNum, hideAssetView } from '../../redux/asset'\n// import Preview from './preview'\n// import { getFileData } from '../../lib/api'\nimport { showCamera } from '../../redux/app.js'\n\nimport './start-page.scss'\n\nclass StartPage extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n\n    this.onStart = this.onStart.bind(this)\n  }\n  componentDidMount() {}\n\n  onStart() {\n    const { showCamera } = this.props\n    showCamera()\n  }\n\n  render() {\n    const { isShowStartPage } = this.props\n    return isShowStartPage ? (\n      <div className=\"start-pahge-container\">\n        <Button\n          type=\"primary\"\n          shape=\"circle\"\n          icon=\"scan\"\n          className=\"start-button\"\n          onClick={this.onStart}\n        />\n      </div>\n    ) : null\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isShowStartPage: state.app.isShowStartPage,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ showCamera }, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartPage)\n","import React from 'react'\nimport CameraPage from '../components/camera/camera'\nimport Grid from '../components/grid/grid'\nimport CropImage from '../components/crop-image/crop-image'\nimport RecognizeResult from '../components/recognize/recognize'\nimport StartPage from '../components/start-page/start-page'\n\nimport './app.scss'\n\nfunction App() {\n  return (\n    <div className=\"app-container\">\n      <StartPage />\n      <CameraPage />\n      <Grid />\n      <CropImage />\n      <RecognizeResult />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ConfigProvider } from 'antd'\nimport zhCN from 'antd/lib/locale/zh_CN'\nimport 'normalize.css'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { store, persistor } from '@/redux/store'\nimport APP from '@/views/app'\n// import '@/lib/skulpt'\n\nconst renderApp = (\n  <ConfigProvider locale={zhCN}>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <APP />\n      </PersistGate>\n    </Provider>\n  </ConfigProvider>\n)\n\nReactDOM.render(renderApp, document.getElementById('root'))\n\nif (process.env.NODE_ENV !== 'production' && module.hot) {\n  module.hot.accept('@/views/app', renderApp)\n}\n"],"sourceRoot":""}